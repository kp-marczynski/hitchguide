(this.webpackJsonphitchguide=this.webpackJsonphitchguide||[]).push([[1],{150:function(e,n,t){e.exports=t(173)},157:function(e,n,t){var r={"./ion-action-sheet.entry.js":[175,5],"./ion-alert.entry.js":[176,6],"./ion-app_8.entry.js":[177,7],"./ion-avatar_3.entry.js":[178,17],"./ion-back-button.entry.js":[179,18],"./ion-backdrop.entry.js":[180,44],"./ion-button_2.entry.js":[181,19],"./ion-card_5.entry.js":[182,20],"./ion-checkbox.entry.js":[183,21],"./ion-chip.entry.js":[184,22],"./ion-col_3.entry.js":[185,45],"./ion-datetime_3.entry.js":[186,10],"./ion-fab_3.entry.js":[187,23],"./ion-img.entry.js":[188,46],"./ion-infinite-scroll_2.entry.js":[189,47],"./ion-input.entry.js":[190,24],"./ion-item-option_3.entry.js":[191,25],"./ion-item_8.entry.js":[192,26],"./ion-loading.entry.js":[193,27],"./ion-menu_3.entry.js":[194,28],"./ion-modal.entry.js":[195,8],"./ion-nav_2.entry.js":[196,14],"./ion-popover.entry.js":[197,9],"./ion-progress-bar.entry.js":[198,29],"./ion-radio_2.entry.js":[199,30],"./ion-range.entry.js":[200,31],"./ion-refresher_2.entry.js":[201,11],"./ion-reorder_2.entry.js":[202,16],"./ion-ripple-effect.entry.js":[203,48],"./ion-route_4.entry.js":[204,32],"./ion-searchbar.entry.js":[205,33],"./ion-segment_2.entry.js":[206,34],"./ion-select_3.entry.js":[207,35],"./ion-slide_2.entry.js":[208,49],"./ion-spinner.entry.js":[209,13],"./ion-split-pane.entry.js":[210,50],"./ion-tab-bar_2.entry.js":[211,36],"./ion-tab_2.entry.js":[212,15],"./ion-text.entry.js":[213,37],"./ion-textarea.entry.js":[214,38],"./ion-toast.entry.js":[215,39],"./ion-toggle.entry.js":[216,12],"./ion-virtual-scroll.entry.js":[217,51]};function a(e){if(!t.o(r,e))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=r[e],a=n[0];return t.e(n[1]).then((function(){return t(a)}))}a.keys=function(){return Object.keys(r)},a.id=157,e.exports=a},159:function(e,n,t){var r={"./ion-icon.entry.js":[219,57]};function a(e){if(!t.o(r,e))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=r[e],a=n[0];return t.e(n[1]).then((function(){return t(a)}))}a.keys=function(){return Object.keys(r)},a.id=159,e.exports=a},160:function(e,n,t){},161:function(e,n,t){},172:function(e,n,t){},173:function(e,n,t){"use strict";t.r(n);var r=t(1),a=t.n(r),o=t(98),l=t.n(o),c=t(43),i=t(82),s=(t(160),a.a.createContext(void 0)),u=t(224),m=t(128),d=t(94),y=t(95),f=t(96),p=t(97),v=t(129),g=t.n(v),h=t(76),j=t(63),b=t(120),w=t(70),S=t(226),E=function(e){var n=e.children;return a.a.createElement("div",null,n)},k=t(131),I=function(e){var n=e.source,t=e.style,a=void 0===t?void 0:t,o=e.zIndex,l=void 0===o?0:o,c=e.minZoom,i=void 0===c?0:c,u=e.maxZoom,m=void 0===u?14:u,d=Object(r.useContext)(s).map;return Object(r.useEffect)((function(){if(d){var e=new k.a({source:n,style:a,minZoom:i,maxZoom:m});return e.on("featureclick",(function(e){return console.log(e)})),d.addLayer(e),e.setZIndex(l),function(){d&&d.removeLayer(e)}}}),[d]),null},O=t(134),x=function(e){var n=e.source,t=e.zIndex,a=void 0===t?0:t,o=Object(r.useContext)(s).map;return Object(r.useEffect)((function(){if(o){var e=new O.a({source:n,zIndex:a});return o.addLayer(e),e.setZIndex(a),function(){o&&o.removeLayer(e)}}}),[o]),null},L=new h.a;L.setStyle(new j.c({image:new b.a({radius:20,fill:new w.a({color:"rgba(51,153,204,0.75)"})})}));var _=function(e){var n,t=e.children,o=e.view,l=Object(r.useRef)(),v=Object(r.useState)(null),h=Object(i.a)(v,2),j=h[0],b=h[1],w=Object(r.useState)(null),k=Object(i.a)(w,2),O=k[0],x=k[1];Object(r.useEffect)((function(){document.addEventListener("visibilitychange",(function(){null===j||void 0===j||j.updateSize()}))}),[j]),Object(r.useEffect)((function(){var e=new m.a;e.on("select",(function(n){var t,r;((null===(t=n.selected[0].getProperties())||void 0===t?void 0:t.name)||(null===(r=n.selected[0].getProperties())||void 0===r?void 0:r.description))&&(console.log(n.selected[0].getProperties()),L.setGeometry(n.selected[0].getProperties().geometry),x(n.selected[0].getProperties())),e.getFeatures().clear()}));var n={view:o,layers:[],controls:[],overlays:[],interactions:[new d.a,new y.a,new f.a,new p.a,e],tilePixelRatio:1},t=new u.a(n);return t.setTarget(l.current),b(t),function(){return t.setTarget(void 0)}}),[]);var _=Object(r.useRef)(),P=Object(r.useRef)();Object(r.useEffect)((function(){O?C():(_.current.style.transition=".5s ease-out",_.current.style.transform="translateY(".concat(25,"px) "))}),[O]),Object(r.useEffect)((function(){var e=_.current;Object(c.n)({el:e,gestureName:"my-swipe",direction:"y",onEnd:function(n){n.deltaY>20?"false"===e.dataset.open?(x(!1),L.setGeometry(void 0)):T():n.deltaY<-20&&C()}}).enable(!0),Object(c.n)({el:P.current,gestureName:"my-swipe2",direction:"y",onMove:function(e){e.event.preventDefault()}}).enable(!0)}),[]);var C=function(){var e=_.current;e&&(e.style.transition=".5s ease-in",e.style.transform="translateY(".concat(-350,"px) "),e.dataset.open="true")},T=function(){var e=_.current;e&&(e.style.transition=".5s ease-out",e.style.transform="translateY(".concat(-60,"px) "),e.dataset.open="false")};return a.a.createElement(s.Provider,{value:{map:j}},a.a.createElement("div",{ref:l,className:"ol-map"},t,a.a.createElement(E,null,a.a.createElement(I,{source:new S.a({features:[L]})}))),a.a.createElement(c.c,{ref:_,className:g()({bottomDrawer:!0,hiddenCard:!O})},a.a.createElement("div",{style:{textAlign:"center"}},a.a.createElement(c.b,{size:"large",color:"dark",style:{height:10,width:100},onClick:function(){"true"===_.current.dataset.open?C():T()}})),a.a.createElement(c.e,null,a.a.createElement(c.f,null,null===O||void 0===O?void 0:O.name)),a.a.createElement(c.d,{ref:P},a.a.createElement("div",{dangerouslySetInnerHTML:{__html:null!==(n=null===O||void 0===O?void 0:O.description)&&void 0!==n?n:"No description"},style:{overflowY:"scroll",height:275}}))))},P=t(5),C=t(223),T=t(69),N=t(72),D=t(130),G=t(113),z=(t(161),t(50)),A=t(93),M=t(225);var Y=function(e){switch(e){case 5:return"green";case 4:return"blue";case 3:return"yellow";case 2:return"orange";case 1:return"red";default:return"purple"}},Z=new h.a;Z.setStyle(new j.c({image:new b.a({radius:6,fill:new w.a({color:"#3399CC"}),stroke:new N.a({color:"#fff",width:2})})}));var U=new G.a({projection:"EPSG:3857",center:Object(P.d)([17,51]),zoom:4,maxZoom:14}),F=new D.a({trackingOptions:{enableHighAccuracy:!0},projection:U.getProjection()}),R=new h.a;F.on("change:accuracyGeometry",(function(){R.setGeometry(F.getAccuracyGeometry())})),F.setTracking(!0),F.on("change:position",(function(){var e=F.getPosition();Z.setGeometry(e?new T.a(e):void 0)})),document.addEventListener("visibilitychange",(function(){console.log("change1"),F.setTracking("hidden"!==document.visibilityState)}));var W=new h.a;W.setGeometry(new T.a(Object(P.d)([17,51]))),W.setStyle(new j.c({image:new b.a({radius:50,fill:new w.a({color:"#3399CC"}),stroke:new N.a({color:"#fff",width:2})}),text:new A.a({text:"42",scale:5})}));var B=function(){var e=Object(r.useState)(!1),n=Object(i.a)(e,2),t=n[0],o=n[1],l=Object(r.useState)("Poland"),s=Object(i.a)(l,2),u=(s[0],s[1],Object(r.useState)()),m=Object(i.a)(u,2),d=m[0],y=m[1];Object(r.useEffect)((function(){setTimeout((function(){return o(!0)}),1e3),fetch("assets/json/world.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){var n='<?xml version="1.0" encoding="UTF-8"?>\n<kml xmlns="http://earth.google.com/kml/2.2">\n<Document>\n<name>World</name>\n<visibility>1</visibility>\n<Style id="placemark-blue">\n<IconStyle><Icon><href>http://maps.google.com/mapfiles/kml/paddle/blu-circle.png</href></Icon><scale>0.75</scale></IconStyle>\n<LabelStyle><scale>0.5</scale></LabelStyle>\n</Style>\n<Style id="placemark-green">\n<IconStyle><Icon><href>http://maps.google.com/mapfiles/kml/paddle/grn-circle.png</href></Icon><scale>0.75</scale></IconStyle>\n<LabelStyle><scale>0.5</scale></LabelStyle>\n</Style>\n<Style id="placemark-yellow">\n<IconStyle><Icon><href>http://maps.google.com/mapfiles/kml/paddle/ylw-circle.png</href></Icon><scale>0.75</scale></IconStyle>\n<LabelStyle><scale>0.5</scale></LabelStyle>\n</Style>\n<Style id="placemark-red">\n<IconStyle><Icon><href>http://maps.google.com/mapfiles/kml/paddle/red-circle.png</href></Icon><scale>0.75</scale></IconStyle>\n<LabelStyle><scale>0.5</scale></LabelStyle>\n</Style>\n<Style id="placemark-brown">\n<IconStyle><Icon><href>http://maps.google.com/mapfiles/kml/paddle/wht-circle.png</href></Icon><scale>0.75</scale></IconStyle>\n<LabelStyle><scale>0.5</scale></LabelStyle>\n</Style>\n<Style id="placemark-purple">\n<IconStyle><Icon><href>http://maps.google.com/mapfiles/kml/paddle/purple-circle.png</href></Icon><scale>0.75</scale></IconStyle>\n<LabelStyle><scale>0.5</scale></LabelStyle>\n</Style>\n<Style id="placemark-orange">\n<IconStyle><Icon><href>http://maps.google.com/mapfiles/kml/paddle/orange-circle.png</href></Icon><scale>0.75</scale></IconStyle>\n<LabelStyle><scale>0.5</scale></LabelStyle>\n</Style>\n<Style id="placemark-pink">\n<IconStyle><Icon><href>http://maps.google.com/mapfiles/kml/paddle/pink-circle.png</href></Icon><scale>0.75</scale></IconStyle>\n<LabelStyle><scale>0.5</scale></LabelStyle>\n</Style>\n\n'+e.map((function(e){var n;return'<Placemark xmlns="http://www.opengis.net/kml/2.2" id="'+e.i+'">\n<name>Spot '+e.i+"</name>\n<visibility>1</visibility>\n<address>"+e.c+(e.p?", "+e.p:"")+"</address>\n<description><![CDATA["+(null!==(n=e.d)&&void 0!==n?n:"")+"]]></description>\n<Point><coordinates>"+e.l+"</coordinates></Point>\n<styleUrl>#placemark-"+Y(e.s)+"</styleUrl>\n</Placemark>"})).join("\n")+"</Document>\n</kml>\n";y(n)}))}),[]),document.addEventListener("visibilitychange",(function(){o(!1),setTimeout((function(){return o(!0)}),1e3)}));return a.a.createElement(c.l,null,a.a.createElement(c.j,null,a.a.createElement(c.m,null)),a.a.createElement(c.g,{scrollY:!1},t&&a.a.createElement("div",{style:{width:"100%",height:"100%",position:"static"},id:"map-container"},a.a.createElement(_,{view:U},a.a.createElement(E,null,a.a.createElement(x,{source:new C.a({url:"https://ows.terrestris.de/osm/service?",params:{LAYERS:"OSM-WMS",TILED:!0,FORMAT:"image/png"},attributions:[],transition:0}),zIndex:0}),a.a.createElement(I,{source:new S.a({features:[R]})}),d&&a.a.createElement(I,{source:new S.a({features:new M.a({showPointNames:!1}).readFeatures(d,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"})}),minZoom:8}),a.a.createElement(I,{source:new S.a({features:[Z]})}))),a.a.createElement("div",{className:"attribution",id:"attribution"},"\xa9 ",a.a.createElement("a",{href:"https://www.openstreetmap.org/copyright"},"OpenStreetMap")," contributors"),a.a.createElement("div",{className:"versionNumber"},"hitchguide"," v","0.0.46"),a.a.createElement(c.h,{vertical:"top",horizontal:"end",slot:"fixed"},a.a.createElement(c.i,{onClick:function(){var e=F.getPosition();e&&U.animate({center:e,zoom:12,rotation:0})}},a.a.createElement(c.k,{icon:z.h}))))))},H=(t(162),t(163),t(164),t(165),t(166),t(167),t(168),t(169),t(170),t(171),t(172),function(){return a.a.createElement(c.a,null,a.a.createElement(B,null))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(a.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[150,3,4]]]);
//# sourceMappingURL=main.2147cff1.chunk.js.map